<h1><%=@artist.name%></h1>

<% unless @producer_songs.empty? %>
<div class="tabs">
  <div class="tab active" id="artist-tab">As artist</div>
  <div class="tab" id="producer-tab">As producer</div>
</div>

<% end %>

<div id="artist-table" class="table active">
  <%= render 'shared/songs_table' %>
</div>


<% unless @producer_songs.empty? %>
  <div id="producer-table" class="table">
    <table>
      <thead>
        <tr>
          <th>Artist</th>
          <th>Song</th>
          <th>Label</th>
          <th>Year</th>
          <th>Riddim</th>
          <th>Producer</th>
          <th>Search</th>
          <th>Edit</th>
        </tr>
      </thead>

      <tbody>
        <% @producer_songs.each do |s| %>
          <% artist_label = [] %>
          <% s.song_artists.each {|sa| artist_label << sa.artist.name } %>
          <tr class="song<%= ' original' if s.original %>">
            <td><%= artist_label.join(' & ') %></td>
            <td><%= s.title %></td>
            <td><%= link_to s.label.name, label_path(s.label) %></td>
            <td><%= s.year %></td>
            <td><%= link_to s.riddim.title, riddim_path(s.riddim) %></td>
            <td><%= s.producer.name unless s.producer.nil? %></td>
            <td class="search"><a target="_blank" href="https://www.youtube.com/results?search_query=<%=artist_label.join('+')%>+<%= s.title %>"><i class="fab fa-youtube"></i></a></td>
            <td><%= link_to "Edit", edit_song_path(s) %></td>
          </tr>

        <% end %>
      </tbody>
    </table>
  </div>


<% end %>
